<div class="min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-700">
        <!-- Logo/Icon -->
        <div class="text-center">
            <div
                class="mx-auto h-16 w-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-xl flex items-center justify-center text-white text-3xl font-bold">
                D
            </div>
            <h2 class="mt-6 text-3xl font-extrabold text-slate-900 dark:text-white tracking-tight">
                Complete Your Profile
            </h2>
            <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">
                Just a few more details to get started.
            </p>
        </div>

        <div
            class="bg-white dark:bg-slate-800 rounded-3xl shadow-2xl shadow-slate-200/50 dark:shadow-none border border-slate-100 dark:border-slate-700 overflow-hidden">
            <div class="p-8">
                <form (ngSubmit)="saveProfile()" class="space-y-6">
                    <!-- Name -->
                    <div class="space-y-2">
                        <label class="text-sm font-bold text-slate-700 dark:text-slate-300 ml-1">Full Name</label>
                        <input [(ngModel)]="profile.name" name="name" type="text" required placeholder="John Doe"
                            class="block w-full px-5 py-4 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-2xl text-slate-900 dark:text-white placeholder-slate-400 focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all">
                    </div>

                    <!-- Role Selection -->
                    <div class="space-y-2">
                        <label class="text-sm font-bold text-slate-700 dark:text-slate-300 ml-1">Your Role</label>
                        <div class="grid grid-cols-2 gap-4">
                            <button type="button" (click)="profile.role = 'user'"
                                [class]="profile.role === 'user' ? 'bg-indigo-600 text-white ring-4 ring-indigo-500/20 shadow-lg shadow-indigo-600/30' : 'bg-slate-50 dark:bg-slate-900 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700'"
                                class="py-3.5 rounded-2xl text-sm font-bold transition-all active:scale-95">
                                User
                            </button>
                            <button type="button" (click)="profile.role = 'admin'"
                                [class]="profile.role === 'admin' ? 'bg-indigo-600 text-white ring-4 ring-indigo-500/20 shadow-lg shadow-indigo-600/30' : 'bg-slate-50 dark:bg-slate-900 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700'"
                                class="py-3.5 rounded-2xl text-sm font-bold transition-all active:scale-95">
                                Admin
                            </button>
                        </div>
                    </div>

                    <!-- Avatar -->
                    <div class="space-y-4">
                        <label class="text-sm font-bold text-slate-700 dark:text-slate-300 ml-1">Profile Picture
                            (Optional)</label>
                        <div class="flex items-center gap-4">
                            <div
                                class="w-16 h-16 rounded-2xl bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center flex-shrink-0 overflow-hidden ring-2 ring-slate-100 dark:ring-slate-700">
                                @if (profile.avatar) {
                                <img [src]="profile.avatar" class="w-full h-full object-cover">
                                } @else {
                                <svg class="h-8 w-8 text-indigo-400" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                                }
                            </div>
                            <input [(ngModel)]="profile.avatar" name="avatar" type="text"
                                placeholder="Paste image URL..."
                                class="flex-1 px-5 py-4 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-2xl text-slate-900 dark:text-white placeholder-slate-400 focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all">
                        </div>
                        <p class="text-[10px] text-slate-500 text-center uppercase font-black tracking-widest">Supports
                            direct image URLs</p>
                    </div>

                    <div class="pt-4">
                        <button type="submit" [disabled]="loading || !profile.name"
                            class="w-full py-4 bg-indigo-600 text-white rounded-2xl text-base font-black shadow-xl shadow-indigo-600/30 hover:bg-indigo-700 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                            {{ loading ? 'Finalizing Setup...' : 'Finish Registration' }}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>